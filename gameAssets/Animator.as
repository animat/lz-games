import mx.utils.Delegate;class Animator {	private static var aniData:Array = new Array();		public static function registerTWN(targetMC:MovieClip) {		aniData.push(targetMC);	}	public static function registerEFA(objectScope:Object, targetMC:MovieClip, initAniFunction:Function, initFunctionName:String) {		var aniFunction:Function = Delegate.create(objectScope, initAniFunction);		var parasiteMC:MovieClip = targetMC.createEmptyMovieClip("parasite", targetMC.getNextHighestDepth());		parasiteMC.onEnterFrame = aniFunction;		aniData.push({iObjectScope:objectScope, iTargetMC:targetMC, iAniFunction:aniFunction, iFunctionName:initFunctionName});	}	public static function registerSIA(objectScope:Object, aniFunction:String, interval) {		var intervalID:Number = setInterval(objectScope, aniFunction, interval);		aniData.push({iIntervalID:intervalID, iObjectScope:objectScope, iFunctionName:aniFunction, iInterval:interval});	}	public static function terminate(aniFunction:String) {		for (var i:Number = 0; i < aniData.length; i++) {			if (aniData[i].iFunctionName == aniFunction) {				if (aniData[i].iTargetMC != undefined) {					removeMovieClip(aniData[i].iTargetMC.parasite);				} else {					clearInterval(aniData[i].iIntervalID);				}				aniData.splice(i, 1);			}		}	}	public static function pauseAni() {		for (var i:Number = 0; i < aniData.length; i++) {			if (aniData[i] instanceof MovieClip ) {				aniData[i].stop();			} else if (aniData[i].iTargetMC != undefined) {				delete aniData[i].iTargetMC.parasite.onEnterFrame;			} else {				clearInterval(aniData[i].iIntervalID);				aniData[i].iIntervalID = -1;			}		}	}	public static function resumeAni() {		for (var i:Number = 0; i < aniData.length; i++) {			if (aniData[i] instanceof MovieClip /*&& aniData[i].state == "play"*/) {				aniData[i].play();			} else if (aniData[i].iTargetMC != undefined) {				aniData[i].iTargetMC.parasite.onEnterFrame = aniData[i].iAniFunction;			} else {				if (aniData[i].iIntervalID == -1) {					var intervalID:Number = setInterval(aniData[i].iObjectScope, aniData[i].iFunctionName, aniData[i].iInterval);					aniData[i].iIntervalID = intervalID;				}			}		}	}}
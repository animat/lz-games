import mx.utils.Delegate;import mx.transitions.Tween;class SSTimer {	private var clip:MovieClip;	private var warnClip:MovieClip;	private var fmt:TextFormat;	private var warnFmt:TextFormat;	private var sec:Number;	private var mSec:Number;	private var timerInterval:Number;		public function SSTimer() {		clip = RunGame.getStage().createEmptyMovieClip("timer", RunGame.getStage().getNextHighestDepth());		clip._x = 375;		clip._y = 192;		fmt = new TextFormat("EmbedComicSans", 16, 0xFFFFFF);		warnFmt = new TextFormat("EmbedComicSans", 16, 0xFF0000);		clip.createTextField("timeDisplay", clip.getNextHighestDepth(), 0, 0, 100, 100);		clip.timeDisplay.text = "0:00";		formatTextField(clip.timeDisplay, fmt);		sec = 0;		mSec = 0;	}		public function start():Void {		timerInterval = setInterval(this, "timing", 1);		clip.onEnterFrame = Delegate.create(this, timing);	}	public function pause():Void {		clearInterval(timerInterval);		delete clip.onEnterFrame;	}		private function timing():Void {		mSec++;		if (mSec == 100) {			sec++;			mSec = 0;		}		var display:String = sec+"."+mSec;		clip.timeDisplay.text = display;		formatTextField(clip.timeDisplay, fmt);	}		public function add(val:Number):Void {		sec += val;		addWarning(val);	}	private function addWarning(val:Number):Void {		warnClip = clip.createEmptyMovieClip("grow", clip.getNextHighestDepth());		warnClip.createTextField("txtField", clip.getNextHighestDepth(), 0, 0, 100, 100);		warnClip.txtField.text = "+"+val+".00";		formatTextField(warnClip.txtField, warnFmt);				var growFactor:Number = 3;		var xsTwn:Tween = new Tween(warnClip, "_xscale", mx.transitions.easing.Regular.easeOut, 100, 100 * growFactor, 1, true);		var xTwn:Tween = new Tween(warnClip, "_x", mx.transitions.easing.Regular.easeOut, 									warnClip._x, (warnClip._x - 60), 1, true);		var ysTwn:Tween = new Tween(warnClip, "_yscale", mx.transitions.easing.Regular.easeOut, 100, 100 * growFactor, 1, true);		var yTwn:Tween = new Tween(warnClip, "_y", mx.transitions.easing.Regular.easeOut, 									warnClip._y, (warnClip._y + (warnClip._height / 2)), 1, true);		var aTwn:Tween = new Tween(warnClip, "_alpha", mx.transitions.easing.Regular.easeOut, 100, 0, 1, true);		aTwn.onMotionFinished = Delegate.create(this, destroyWarnClip);	}	private function destroyWarnClip():Void {		removeMovieClip(warnClip);	}		private function formatTextField(txt:TextField, fmtType:TextFormat):Void {		txt.autoSize = true;		txt.selectable = false;		txt.embedFonts = true;		txt._quality = "BEST";		txt.setTextFormat(fmtType);	}		public function destroy():Void {		pause();		clip.removeMovieClip();		delete this;	}		public function getClip():MovieClip {		return clip;	}	public function getTime():String {		return sec+"."+mSec;	}}